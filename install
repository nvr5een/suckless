#!/usr/bin/env bash

src=~/.config/suckless

install_user_scripts() {
  local dst=~/.local/bin
  mkdir -p "$dst"
  for file in "$src"/bin/*; do
    cp -fv "$file" "$dst"
  done
  chmod 700 "$dst"/*
} 

install_suckless_packages() {
  for i in st dwm slstatus; do # order matters
    cd "$src"/"$i" || exit
    makepkg -fsic --needed --noconfirm
  done
}

main() {
  install_user_scripts
  install_suckless_packages
}

main "$@"
